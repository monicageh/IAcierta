<!-- frontend/src/app/game/game.component.html -->

<div class="game-wrapper">
  <div #roscoRef class="rosco">

    <!-- circulitos con números -->
    <div *ngFor="let letter of letters"
         class="letter"
         [style.width.px]="letter.size"
         [style.height.px]="letter.size"
         [style.left.px]="letter.x"
         [style.top.px]="letter.y"
         [style.fontSize.px]="letter.size * 0.5">
      {{ letter.value }}
    </div>

    <!-- PANEL CENTRAL -->
    <div class="inner-panel">

      <!-- 1. Mostrar pregunta -->
      <div class="question-text" *ngIf="question; else loading">
        {{ question.pregunta }}
      </div>

      <!-- 2. Input de respuesta -->
      <input
        class="answer-input"
        type="text"
        [(ngModel)]="userAnswer"
        placeholder="Escribe tu respuesta…" />

      <!-- 3. Botón Comprobar -->
      <button class="check-button" (click)="checkAnswer()">
        Comprobar
      </button>

      <!-- 4. Feedback -->
      <div *ngIf="showFeedback"
           class="feedback"
           [class.correct]="isCorrect"
           [class.incorrect]="!isCorrect">
        <span *ngIf="isCorrect">
          ✔️ ¡Correcto!
        </span>
        <span *ngIf="!isCorrect">
          ❌ Incorrecto. La respuesta correcta es
          <strong>{{ question?.respuestaCorrecta }}</strong>
        </span>
        <button class="next-button" (click)="nextQuestion()">
          Siguiente pregunta
        </button>
      </div>

      <!-- Loading state -->
      <ng-template #loading>
        <p>Cargando pregunta…</p>
      </ng-template>
    </div>
    
  </div>
</div>
